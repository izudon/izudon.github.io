<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Leaflet Sample 読込時間かかります！</title>
    <link rel="stylesheet" href="../../lib/leaflet/leaflet.css" />
    <script type="text/javascript" src="../../lib/leaflet/leaflet.js"></script>
    <script type="text/javascript" src="../../lib/d3/d3.v3.min.js"></script>
    <style type="text/css">
      #map { height: 500px; }
    </style>
  </head>
  <body>
    <h1>Leaflet Sample 読込時間約１０秒</h1>
    <div id="map"></map>
      
    <script type="text/javascript">
      var map = L.map('map').setView([51, 0], 0);
      var popup = L.popup().setLatLng([0,0]).setContent("Loading...").openOn(map);

      // Tiles
//    L.tileLayer('https://izudon.github.io/tiles/osmlogo/{z}/{y}/{x}.png', {
      L.tileLayer('/tiles/osmlogo/{z}/{y}/{x}.png', {
        attribution: 'attr',
        maxZoom: 4,
      }).addTo(map);

      // geoJSON overlay
      d3.json("../../data/maps/worldmap.geojson", function(json){
        console.log(json);
	L.geoJSON( json, {
	  style: function(feature){
	    return { color: "maroon" };
	  }
	}).bindPopup(function(layer){
          return layer.feature.properties.NAME_JA;
	}).addTo(map);
	popup.remove();
      });
    </script>
  </body>
</html>
